

# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Синхронизировать время](#sync_time)  
2.2 [Добавить новое текстовое напоминание](#add_alert)  
2.3 [Добавить новое файловое напоминание](#add_file_alert)  
2.4 [Посмотреть все напоминания](#show_alert)  
2.5 [Редактировать напоминание](#edit_alert)  
2.6 [Отложить напоминание](#reset_alert)  
2.7 [Создать напоминание для другого человека](#external_alert)  
2.8 [Запретить принимать чужие напоминания](#cancel_external)  


<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, который является пилотом, или радистом, или стюорд |
| Администратор | Человек, использующий систему с правами администратора |
| Диспетчер | Человек, использующий систему с правами диспетчера |
| База | База данных,хранит все данные |

<a name="use_case"/>

# 2 Варианты использования

Use Case диаграммы приложения:

Пользователь:

![Untitled (2)](https://user-images.githubusercontent.com/45950020/203268057-f061ef2f-8e67-498d-9f9c-6d4e877a09b7.png)

Администратор:

![Untitled (3)](https://user-images.githubusercontent.com/45950020/203269712-3c472c47-6f40-4c21-a08b-ece11620ab72.png)

Диспетчер:

![Untitled (4)](https://user-images.githubusercontent.com/45950020/203270007-8ac9bc4e-836e-4c6d-a084-c420a63aae8c.png)



<a name="sync_time"/>

## 2.1 Просмотр ближайших рейсов
**Описание.** Вариант использования "Просмотр ближайших рейсов" позволяет пользователю посмотреть рейсы в которые добавил его диспетчер.  

1. Вариант использования начинается, когда пользователь авторизируется на веб-сайте.
2. Пользователь жмёт кнопку для просмотра рейсов
3. Приложение выполняет запрос в базу данных.
4. Пользователь видит рейсы где он был добавлен.
6. Конец варианта использования. 

<a name="add_alert"/>

## 2.2 Просмотр бригады на рейс
**Описание.** Вариант использования "Просмотр бригады на рейс" позволяет пользователю посмотреть коллег которых диспетчер добавил на рейс вместе с пользователем.  
**Предусловия.** Пользователь уже прошел вариант  использования "Просмотр ближайших рейсов".  

1. Пользователь жмёт на рейс.
2. Приложение выполняет запрос в базу данных.
3. Пользователь видит список всех коллег, зарегестрированных на рейс.
4. Конец варианта использования. 


<a name="show_alert"/>

## 2.3 Создать рейс
**Описание.** Вариант использования "Создать рейс" позволяет администатору создать новый рейс.

1. Администратор авторизируется.
2. Жмёт кнопку для создания рейса.
3. Вводит все данные о новом рейса.
4. Сохраняет новый рейс.
5. Конец варианта использования. 


<a name="show_alert"/>

## 2.4 Создать пользователя
 **Описание.** Вариант использования "Посмотреть все напоминания" позволяет пользователю получить список всех добавленных напоминаний.
 
1. Пользователь отправляет боту сообщенные, содержащее временную метку того дня, все напоминания книготорг необходимо вывести.
2. В случае отсутствия ошибок, бот паре ходит к пунктику 5.
3. Бот просит пользователя повторить отправку временной метки.
4. Бот отправляет пользователю список всех напоминаний относящихся к переданной метке.
5. Конец варианта использования. 



<a name="edit_alert"/>

## 2.5 Редактировать напоминание

**Описание.** Вариант использования "Редактировать напоминание" позволяет пользователю изменить либо текст либо время напоминания.  
1. Пользователь выполняет вариант использования "Посмотреть все напоминания".
2. Пользователь отправляет номер напоминания, которое необходимо изменить.
3. Пользователь отправляет новое напоминание или временную метку.
4. Бот сохраняет изменения в базе напоминаний.
5. Конец варианта использования. 


<a name="reset_alert"/>

## 2.6 Отложить напоминание

**Описание.** Вариант использования "Отложить напоминание" позволяет пользователю повторить напоминание через указанный промежуток времени.  
1. Бот присылает пользователю напоминание в виде входящего сообщения.
2. Пользователь отвечает на него временной меткой, обозначающей время, когда необходимо повторить напоминание.
3. Бот сохранят изменения в базе.
4. Конец варианта использования. 


<a name="external_alert"/>

## 2.7 Создать напоминание для другого человека

**Описание.** Вариант использования "Создать напоминание для другого человека" позволяет пользователю послать напоминание другому человеку.  
1. Пользователь выполняет вариант использования "Посмотреть все напоминания".
2. Пользователь отправляет номер человеку, кому необходимо переадресовать напоминание.
3. Бот сохраняет изменения в базе. 
4. Конец варианта использования. 


<a name="cancel_external"/>

## 2.8 Запретить принимать чужие напоминания

**Описание.** Вариант использования "Запретить принимать чужие напоминания" позволяет пользователю запретить принимать чужие напоминания.  

1. Для отмены или разрешения чужих напоминаний пользователь отправляет боту сообщение с текстом "разрешить/запретить принимать чужие напоминания".
2. Бот сохраняет изменения в базе. 
3. Конец варианта использования. 

